{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SAP Delivery (LIKP/LIPS)",
  "description": "Schema for synthetic SAP SD delivery documents",
  "type": "object",
  "required": ["vbeln", "erdat", "wadat", "kunnr", "items"],
  "properties": {
    "vbeln": {
      "type": "string",
      "description": "Delivery document number",
      "pattern": "^[0-9]{10}$",
      "examples": ["8000000001"]
    },
    "erdat": {
      "type": "string",
      "format": "date",
      "description": "Creation date",
      "examples": ["2024-01-16"]
    },
    "wadat": {
      "type": "string",
      "format": "date",
      "description": "Planned goods issue date",
      "examples": ["2024-01-22"]
    },
    "wadat_ist": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Actual goods issue date - may differ from planned!",
      "examples": ["2024-01-23"]
    },
    "kunnr": {
      "type": "string",
      "description": "Ship-to customer",
      "pattern": "^CUST[0-9]{4}$",
      "examples": ["CUST0001"]
    },
    "items": {
      "type": "array",
      "description": "Delivery line items (LIPS)",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/DeliveryItem"
      }
    }
  },
  "definitions": {
    "DeliveryItem": {
      "type": "object",
      "required": ["posnr", "matnr", "lfimg", "werks", "vbeln_ref", "posnr_ref"],
      "properties": {
        "posnr": {
          "type": "string",
          "description": "Item number",
          "pattern": "^[0-9]{6}$",
          "examples": ["000010"]
        },
        "matnr": {
          "type": "string",
          "description": "Material number",
          "examples": ["MAT001"]
        },
        "lfimg": {
          "type": "number",
          "description": "Delivered quantity",
          "minimum": 0,
          "examples": [100]
        },
        "werks": {
          "type": "string",
          "description": "Plant",
          "examples": ["1000"]
        },
        "vbeln_ref": {
          "type": "string",
          "description": "Reference sales order number",
          "examples": ["0000012345"]
        },
        "posnr_ref": {
          "type": "string",
          "description": "Reference sales order item",
          "examples": ["000010"]
        }
      }
    }
  }
}
